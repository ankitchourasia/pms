<div class="card">
    <div class="card-header bg-secondary text-white text-center">
        Daily Survey Progress
    </div>
    <div class="card-body">
        <div class="d-flex justify-content-end">
            <select name="items" id="items" [(ngModel)]="pageSize" (change)="pageSizeChanged()" [disabled]="!estimatesToShow">
                <option [ngValue]=10>10</option>
                <option [ngValue]=20>20</option>
                <option [ngValue]=50>50</option>
                <option [ngValue]=100>100</option>
            </select>
            <button class="button btn-sm" (click)="exportclicked('progressTable')">Export</button>
            
        </div>
        <table id="progressTable" class="table table-sm table-bordered small">
            <thead>
                <tr>
                    <th>SNO</th>
                    <th>DC Name</th>
                    <th>PROJ ID</th>
                    <th>PROJ NO</th>
                    <th>PROJ STATUS</th>
                    <th>PROJ TYPE</th>
                    <th>PROJ DESC</th>
                    <th>SANC DATE</th>
                    <th>QTY</th>
                    <th>EST NO</th>
                    <th>ITEM NAME</th>
                    <th>ITEM COST</th>
                    <th>ITEM DESC</th>
                    <th>SCHEDULE NO</th>
                    <th>SCHEDULE QTY</th>
                    <th>SCHEME CODE</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let se of estimatesToShow; let i = index">
                    <td>{{currentPageCounter + i + 1}}</td>
                    <td>{{se.DC_NAME}}</td>
                    <td>{{se.PROJECT_ID}}</td>
                    <td>{{se.PROJECT_NO}}</td>
                    <td>{{se.PROJECT_STATUS}}</td>
                    <td>{{se.PROJECT_TYPE}}</td>
                    <td>{{se.PROJ_DESC}}</td>
                    <td>{{se.SANCTIONED_DATE}}</td>
                    <td>{{se.QTY}}</td>
                    <td>{{se.ESTIMATE_NO}}</td>
                    <td>{{se.ITEM_CODE}}</td>
                    <td>{{se.ITEM_COST}}</td>
                    <td>{{se.ITEM_DESC}}</td>
                    <td>{{se.SCHEDULE_NO}}</td>
                    <td>{{se.SCHEDULE_QTY}}</td>
                    <td>{{se.SCHEME_CODE}}</td>
                </tr>
                <tr *ngIf="loading" class="text-center">
                    <td colspan="16">
                        <span *ngIf="loading">loading...<span class="spinner-border spinner-border-sm"></span></span>
                    </td>
                </tr>
                <tr *ngIf="!loading && !estimatesToShow" class="text-center">
                    <td colspan="16">
                        No records Found.
                    </td>
                </tr>
            </tbody>
        </table>
        <nav id="pagination" class="d-flex justify-content-around">
            <ul *ngIf="pager.pages && pager.pages.length" class="pagination pagination-sm">
            <li class="page-item" [ngClass]="{disabled:pager.currentPage === 1}">
                <a href="javascript:void(0);" class="page-link" (click)="setPage(1)">First</a>
            </li>
            <li class="page-item" [ngClass]="{disabled:pager.currentPage === 1}">
                <a href="javascript:void(0);" class="page-link" (click)="setPage(pager.currentPage - 1)">Previous</a>
            </li>
            <li class="page-item" *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}">
                <a href="javascript:void(0);" class="page-link" (click)="setPage(page)">{{page}}</a>
            </li>
            <li class="page-item" [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
                <a href="javascript:void(0);" class="page-link" (click)="setPage(pager.currentPage + 1)">Next</a>
            </li>
            <li class="page-item" [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
                <a href="javascript:void(0);" class="page-link" (click)="setPage(pager.totalPages)">Last</a>
            </li>
            </ul>
        </nav>
    </div>
</div>